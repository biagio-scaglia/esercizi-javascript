<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Biagio To-Do List</title>
    <!-- CSS Incorporato per semplicit√† -->
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; display: flex; justify-content: center; margin-top: 50px; }
        .container { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); width: 300px; }
        input { width: 70%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
        button { padding: 8px 12px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #0056b3; }
        ul { list-style: none; padding: 0; }
        li { background: #fff; border-bottom: 1px solid #eee; padding: 10px; display: flex; justify-content: space-between; align-items: center; }
        .fatto { text-decoration: line-through; color: #888; }
        .btn-delete { background: #ff4d4f; font-size: 12px; padding: 4px 8px; }
    </style>
</head>
<body>

    <div class="container">
        <h2>Cose da fare üìù</h2>
        <input type="text" id="inputTask" placeholder="Scrivi un impegno...">
        <button id="btnAggiungi">Add</button>
        
        <ul id="listaTask">
            <!-- Qui finiranno i task -->
        </ul>
    </div>

    <!-- JAVASCRIPT Incorporato -->
    <script>
        console.log("Biagio: Script caricato!");

        // 1. Selezioniamo gli elementi
        const input = document.getElementById("inputTask");
        const bottone = document.getElementById("btnAggiungi");
        const lista = document.getElementById("listaTask");

        // 2. Funzione per aggiungere task
        function aggiungiTask() {
            const testo = input.value;
            
            if (testo === "") {
                alert("Scrivi qualcosa prima!");
                return;
            }

            // Creiamo l'elemento LI
            const nuovoLi = document.createElement("li");
            
            // Mettiamo il testo dentro uno span cliccabile
            const spanTesto = document.createElement("span");
            spanTesto.innerText = testo;
            spanTesto.onclick = function() {
                // Toggle classe per sbarrare il testo
                spanTesto.classList.toggle("fatto");
            };

            // Bottone cancella
            const btnCancella = document.createElement("button");
            btnCancella.innerText = "X";
            btnCancella.className = "btn-delete";
            btnCancella.onclick = function() {
                // Rimuove l'elemento padre (il LI)
                nuovoLi.remove();
            };

            // Assembliamo tutto
            nuovoLi.appendChild(spanTesto);
            nuovoLi.appendChild(btnCancella);
            
            // Aggiungiamo alla lista
            lista.appendChild(nuovoLi);
            
            // Puliamo l'input
            input.value = "";
        }

        // 3. Colleghiamo il click
        bottone.addEventListener("click", aggiungiTask);

        // Bonus: Aggiungi premendo INVIO
        input.addEventListener("keypress", function(e) {
            if (e.key === "Enter") {
                aggiungiTask();
            }
        });

    </script>
</body>
</html>
